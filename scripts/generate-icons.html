<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Pastoreio — Gerador de Ícones PWA</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 640px; margin: 40px auto; padding: 0 20px; background: #f9fafb; color: #111; }
    h1 { color: #2D6A4F; }
    .previews { display: flex; gap: 24px; align-items: flex-end; margin: 24px 0; }
    canvas { border-radius: 20%; box-shadow: 0 4px 16px rgba(0,0,0,.15); }
    button { background: #2D6A4F; color: white; border: none; padding: 10px 24px; border-radius: 8px; font-size: 15px; cursor: pointer; margin-top: 8px; display: block; }
    button:hover { background: #235a40; }
    p.note { font-size: 13px; color: #666; margin-top: 24px; border-top: 1px solid #ddd; padding-top: 16px; }
  </style>
</head>
<body>
  <h1>Gerador de Ícones — Pastoreio.io</h1>
  <p>Clique nos botões abaixo para baixar os arquivos PNG e salve-os em <code>public/icons/</code>.</p>

  <div class="previews">
    <div>
      <p><strong>192 × 192</strong></p>
      <canvas id="c192" width="192" height="192"></canvas><br/>
      <button onclick="download('c192','icon-192x192.png')">⬇ Baixar icon-192x192.png</button>
    </div>
    <div>
      <p><strong>512 × 512</strong></p>
      <canvas id="c512" width="512" height="512"></canvas><br/>
      <button onclick="download('c512','icon-512x512.png')">⬇ Baixar icon-512x512.png</button>
    </div>
  </div>

  <p class="note">
    Após baixar, coloque os arquivos em <code>pequenos-grupos/public/icons/</code>.
    O favicon SVG já está configurado automaticamente em <code>public/icons/pastoreio.svg</code>.
  </p>

  <script>
    const SVG = `<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
  <circle cx="256" cy="256" r="256" fill="#2D6A4F"/>
  <rect x="229" y="80" width="54" height="230" rx="27" fill="white"/>
  <rect x="134" y="148" width="244" height="54" rx="27" fill="white"/>
  <circle cx="140" cy="362" r="30" fill="white" fill-opacity="0.85"/>
  <path d="M86 450 C86 420 112 396 140 396 C168 396 194 420 194 450" stroke="white" stroke-opacity="0.85" stroke-width="20" stroke-linecap="round" fill="none"/>
  <circle cx="256" cy="356" r="34" fill="white"/>
  <path d="M196 450 C196 418 224 392 256 392 C288 392 316 418 316 450" stroke="white" stroke-width="22" stroke-linecap="round" fill="none"/>
  <circle cx="372" cy="362" r="30" fill="white" fill-opacity="0.85"/>
  <path d="M318 450 C318 420 344 396 372 396 C400 396 426 420 426 450" stroke="white" stroke-opacity="0.85" stroke-width="20" stroke-linecap="round" fill="none"/>
</svg>`;

    function drawOnCanvas(canvasId, size) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext('2d');
      const blob = new Blob([SVG], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);
      const img = new Image();
      img.onload = () => {
        ctx.clearRect(0, 0, size, size);
        ctx.drawImage(img, 0, 0, size, size);
        URL.revokeObjectURL(url);
      };
      img.src = url;
    }

    function download(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const a = document.createElement('a');
      a.href = canvas.toDataURL('image/png');
      a.download = filename;
      a.click();
    }

    drawOnCanvas('c192', 192);
    drawOnCanvas('c512', 512);
  </script>
</body>
</html>
